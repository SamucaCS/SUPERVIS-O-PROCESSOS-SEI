<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cadastro – SEI dos Termos de Visita (Supervisão)</title>
    <style>
        :root {
            --bg: #0f172a;
            --card: #111827;
            --muted: #94a3b8;
            --text: #e5e7eb;
            --accent: #22d3ee;
            --radius: 16px
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            margin: 0
        }

        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans";
            background: linear-gradient(135deg, #0b1025 0%, #0f172a 40%, #0b2530 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 24px
        }

        .container {
            max-width: 980px;
            margin: 0 auto
        }

        header {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 16px
        }

        h1 {
            font-size: 1.2rem;
            margin: 0
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(0, 0, 0, .12));
            border: 1px solid rgba(255, 255, 255, .08);
            border-radius: var(--radius);
            box-shadow: 0 6px 24px rgba(0, 0, 0, .35);
            margin-bottom: 16px
        }

        form {
            padding: 16px
        }

        .grid {
            display: grid;
            gap: 12px;
            grid-template-columns: repeat(12, 1fr)
        }

        .col-12 {
            grid-column: span 12
        }

        .col-6 {
            grid-column: span 6
        }

        @media (max-width:860px) {
            .col-6 {
                grid-column: span 12
            }
        }

        label {
            display: block;
            font-size: .88rem;
            color: var(--muted);
            margin: 2px 0 6px
        }

        input {
            width: 100%;
            background: #0b1226;
            border: 1px solid rgba(255, 255, 255, .1);
            color: var(--text);
            padding: 12px;
            border-radius: 12px;
            outline: none
        }

        .actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px
        }

        button {
            border: 0;
            cursor: pointer;
            border-radius: 12px;
            padding: 10px 14px;
            font-weight: 700
        }

        .btn-primary {
            background: var(--accent);
            color: #03222c
        }

        .btn-secondary {
            background: #0b1226;
            color: var(--text);
            border: 1px solid rgba(255, 255, 255, .15)
        }

        .ok {
            display: none;
            margin: 10px 16px 18px;
            color: #10b981
        }

        a.btn {
            display: inline-block;
            text-decoration: none
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>NÚMERO DOS PROCESSOS SEI DOS TERMOS DE VISITA — Supervisão</h1>
            <div class="links">
                <a class="btn btn-secondary" href="./index.html">Home</a>
                <a class="btn btn-secondary" href="./supervisao-resultados.html">Ver resultados</a>
            </div>
        </header>

        <section class="card">
            <form id="form-sei">
                <div class="grid">
                    <div class="col-12">
                        <label for="supervisor">Nome do Supervisor (obrigatório)</label>
                        <input id="supervisor" name="supervisor" type="text" required
                            placeholder="Ex.: Nome Completo" />
                    </div>

                    <!-- Unidade 1 -->
                    <div class="col-6">
                        <label for="u1_nome">Nome da Unidade Escolar 1 (obrigatório)</label>
                        <input id="u1_nome" name="u1_nome" type="text" required />
                    </div>
                    <div class="col-6">
                        <label for="u1_sei">Processo SEI da Unidade Escolar 1 (obrigatório)</label>
                        <input id="u1_sei" name="u1_sei" type="text" required />
                    </div>

                    <!-- Unidade 2 -->
                    <div class="col-6">
                        <label for="u2_nome">Nome da Unidade Escolar 2 (obrigatório)</label>
                        <input id="u2_nome" name="u2_nome" type="text" required />
                    </div>
                    <div class="col-6">
                        <label for="u2_sei">Processo SEI da Unidade Escolar 2 (obrigatório)</label>
                        <input id="u2_sei" name="u2_sei" type="text" required />
                    </div>

                    <!-- Unidade 3 -->
                    <div class="col-6">
                        <label for="u3_nome">Nome da Unidade Escolar 3 (obrigatório)</label>
                        <input id="u3_nome" name="u3_nome" type="text" required />
                    </div>
                    <div class="col-6">
                        <label for="u3_sei">Processo SEI da Unidade Escolar 3 (obrigatório)</label>
                        <input id="u3_sei" name="u3_sei" type="text" required />
                    </div>

                    <!-- Unidade 4 (opcional) -->
                    <div class="col-6">
                        <label for="u4_nome">Nome da Unidade Escolar 4 (opcional)</label>
                        <input id="u4_nome" name="u4_nome" type="text" />
                    </div>
                    <div class="col-6">
                        <label for="u4_sei">Processo SEI da Unidade Escolar 4 (opcional)</label>
                        <input id="u4_sei" name="u4_sei" type="text" />
                    </div>

                    <!-- Unidade 5 (opcional) -->
                    <div class="col-6">
                        <label for="u5_nome">Nome da Unidade Escolar 5 (opcional)</label>
                        <input id="u5_nome" name="u5_nome" type="text" />
                    </div>
                    <div class="col-6">
                        <label for="u5_sei">Processo SEI da Unidade Escolar 5 (opcional)</label>
                        <input id="u5_sei" name="u5_sei" type="text" />
                    </div>
                </div>

                <div class="actions">
                    <button type="submit" class="btn-primary">Salvar</button>
                    <button type="reset" class="btn-secondary">Limpar</button>
                </div>

                <p class="ok" id="ok-msg">✓ Registro salvo.
                    <a id="ok-link" class="btn btn-secondary" href="./supervisao-resultados.html">Ver resultados</a>
                </p>
            </form>
        </section>
    </div>

    <script>
        const save = (k, d) => localStorage.setItem(k, JSON.stringify(d));
        const load = (k, f) => { try { return JSON.parse(localStorage.getItem(k)) ?? f } catch { return f } };
        const uuid = () => (crypto?.randomUUID?.() || 'id-' + Date.now() + '-' + Math.random().toString(16).slice(2));

        const K_SUP = 'sei-termos-v1';

        if (!load(K_SUP, null)) save(K_SUP, { items: [] });

        const form = document.getElementById('form-sei');
        const ok = document.getElementById('ok-msg');
        const okLink = document.getElementById('ok-link');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const fd = new FormData(form);
            const state = load(K_SUP, { items: [] });

            // coleta
            const item = {
                id: uuid(),
                createdAt: new Date().toISOString(),
                supervisor: (fd.get('supervisor') || '').toString().trim(),
                u1_nome: (fd.get('u1_nome') || '').toString().trim(),
                u1_sei: (fd.get('u1_sei') || '').toString().trim(),
                u2_nome: (fd.get('u2_nome') || '').toString().trim(),
                u2_sei: (fd.get('u2_sei') || '').toString().trim(),
                u3_nome: (fd.get('u3_nome') || '').toString().trim(),
                u3_sei: (fd.get('u3_sei') || '').toString().trim(),
                u4_nome: (fd.get('u4_nome') || '').toString().trim(),
                u4_sei: (fd.get('u4_sei') || '').toString().trim(),
                u5_nome: (fd.get('u5_nome') || '').toString().trim(),
                u5_sei: (fd.get('u5_sei') || '').toString().trim(),
            };

            // valida obrigatórios por segurança extra
            const required = [
                ['supervisor', item.supervisor],
                ['u1_nome', item.u1_nome], ['u1_sei', item.u1_sei],
                ['u2_nome', item.u2_nome], ['u2_sei', item.u2_sei],
                ['u3_nome', item.u3_nome], ['u3_sei', item.u3_sei],
            ];
            const missing = required.filter(([k, v]) => !v);
            if (missing.length) {
                alert('Preencha todos os campos obrigatórios (Supervisor e Unidades 1-3 com seus SEIs).');
                return;
            }

            state.items.push(item);
            save(K_SUP, state);
            form.reset();
            ok.style.display = 'block';
            okLink.focus();
            setTimeout(() => ok.style.display = 'none', 4000);
        });
    </script>
</body>


</html>
